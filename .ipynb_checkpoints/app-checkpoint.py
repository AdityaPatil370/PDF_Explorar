{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "e23f567f",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Collecting streamlit\n",
      "  Obtaining dependency information for streamlit from https://files.pythonhosted.org/packages/9a/14/857d0734989f3d26f2f965b2e3f67568ea7a6e8a60cb9c1ed7f774b6d606/streamlit-1.40.1-py2.py3-none-any.whl.metadata\n",
      "  Downloading streamlit-1.40.1-py2.py3-none-any.whl.metadata (8.5 kB)\n",
      "Collecting altair<6,>=4.0 (from streamlit)\n",
      "  Obtaining dependency information for altair<6,>=4.0 from https://files.pythonhosted.org/packages/9b/52/4a86a4fa1cc2aae79137cc9510b7080c3e5aede2310d14fae5486feec7f7/altair-5.4.1-py3-none-any.whl.metadata\n",
      "  Downloading altair-5.4.1-py3-none-any.whl.metadata (9.4 kB)\n",
      "Collecting blinker<2,>=1.0.0 (from streamlit)\n",
      "  Obtaining dependency information for blinker<2,>=1.0.0 from https://files.pythonhosted.org/packages/10/cb/f2ad4230dc2eb1a74edf38f1a38b9b52277f75bef262d8908e60d957e13c/blinker-1.9.0-py3-none-any.whl.metadata\n",
      "  Downloading blinker-1.9.0-py3-none-any.whl.metadata (1.6 kB)\n",
      "Collecting cachetools<6,>=4.0 (from streamlit)\n",
      "  Obtaining dependency information for cachetools<6,>=4.0 from https://files.pythonhosted.org/packages/a4/07/14f8ad37f2d12a5ce41206c21820d8cb6561b728e51fad4530dff0552a67/cachetools-5.5.0-py3-none-any.whl.metadata\n",
      "  Downloading cachetools-5.5.0-py3-none-any.whl.metadata (5.3 kB)\n",
      "Requirement already satisfied: click<9,>=7.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (8.0.4)\n",
      "Requirement already satisfied: numpy<3,>=1.20 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (1.24.3)\n",
      "Requirement already satisfied: packaging<25,>=20 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (23.1)\n",
      "Requirement already satisfied: pandas<3,>=1.4.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (2.0.3)\n",
      "Requirement already satisfied: pillow<12,>=7.1.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (9.4.0)\n",
      "Requirement already satisfied: protobuf<6,>=3.20 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (4.25.3)\n",
      "Requirement already satisfied: pyarrow>=7.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (11.0.0)\n",
      "Requirement already satisfied: requests<3,>=2.27 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (2.31.0)\n",
      "Requirement already satisfied: rich<14,>=10.14.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (13.7.1)\n",
      "Requirement already satisfied: tenacity<10,>=8.1.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (8.2.2)\n",
      "Requirement already satisfied: toml<2,>=0.10.1 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (0.10.2)\n",
      "Requirement already satisfied: typing-extensions<5,>=4.3.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (4.12.2)\n",
      "Collecting gitpython!=3.1.19,<4,>=3.0.7 (from streamlit)\n",
      "  Obtaining dependency information for gitpython!=3.1.19,<4,>=3.0.7 from https://files.pythonhosted.org/packages/e9/bd/cc3a402a6439c15c3d4294333e13042b915bbeab54edc457c723931fed3f/GitPython-3.1.43-py3-none-any.whl.metadata\n",
      "  Downloading GitPython-3.1.43-py3-none-any.whl.metadata (13 kB)\n",
      "Collecting pydeck<1,>=0.8.0b4 (from streamlit)\n",
      "  Obtaining dependency information for pydeck<1,>=0.8.0b4 from https://files.pythonhosted.org/packages/ab/4c/b888e6cf58bd9db9c93f40d1c6be8283ff49d88919231afe93a6bcf61626/pydeck-0.9.1-py2.py3-none-any.whl.metadata\n",
      "  Downloading pydeck-0.9.1-py2.py3-none-any.whl.metadata (4.1 kB)\n",
      "Requirement already satisfied: tornado<7,>=6.0.3 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (6.3.2)\n",
      "Requirement already satisfied: watchdog<7,>=2.1.5 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from streamlit) (2.1.6)\n",
      "Requirement already satisfied: jinja2 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from altair<6,>=4.0->streamlit) (3.1.2)\n",
      "Requirement already satisfied: jsonschema>=3.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from altair<6,>=4.0->streamlit) (4.17.3)\n",
      "Collecting narwhals>=1.5.2 (from altair<6,>=4.0->streamlit)\n",
      "  Obtaining dependency information for narwhals>=1.5.2 from https://files.pythonhosted.org/packages/c2/f5/e398fd2271fd740c31f8b30361c1a4ee16c3849ae037aab50bea7fd7aa83/narwhals-1.13.4-py3-none-any.whl.metadata\n",
      "  Downloading narwhals-1.13.4-py3-none-any.whl.metadata (7.4 kB)\n",
      "Requirement already satisfied: colorama in c:\\users\\admin\\anaconda3\\lib\\site-packages (from click<9,>=7.0->streamlit) (0.4.6)\n",
      "Collecting gitdb<5,>=4.0.1 (from gitpython!=3.1.19,<4,>=3.0.7->streamlit)\n",
      "  Obtaining dependency information for gitdb<5,>=4.0.1 from https://files.pythonhosted.org/packages/fd/5b/8f0c4a5bb9fd491c277c21eff7ccae71b47d43c4446c9d0c6cff2fe8c2c4/gitdb-4.0.11-py3-none-any.whl.metadata\n",
      "  Downloading gitdb-4.0.11-py3-none-any.whl.metadata (1.2 kB)\n",
      "Requirement already satisfied: python-dateutil>=2.8.2 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from pandas<3,>=1.4.0->streamlit) (2.8.2)\n",
      "Requirement already satisfied: pytz>=2020.1 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from pandas<3,>=1.4.0->streamlit) (2023.3.post1)\n",
      "Requirement already satisfied: tzdata>=2022.1 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from pandas<3,>=1.4.0->streamlit) (2023.3)\n",
      "Requirement already satisfied: charset-normalizer<4,>=2 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from requests<3,>=2.27->streamlit) (2.0.4)\n",
      "Requirement already satisfied: idna<4,>=2.5 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from requests<3,>=2.27->streamlit) (3.4)\n",
      "Requirement already satisfied: urllib3<3,>=1.21.1 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from requests<3,>=2.27->streamlit) (1.26.16)\n",
      "Requirement already satisfied: certifi>=2017.4.17 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from requests<3,>=2.27->streamlit) (2023.7.22)\n",
      "Requirement already satisfied: markdown-it-py>=2.2.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from rich<14,>=10.14.0->streamlit) (2.2.0)\n",
      "Requirement already satisfied: pygments<3.0.0,>=2.13.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from rich<14,>=10.14.0->streamlit) (2.15.1)\n",
      "Collecting smmap<6,>=3.0.1 (from gitdb<5,>=4.0.1->gitpython!=3.1.19,<4,>=3.0.7->streamlit)\n",
      "  Obtaining dependency information for smmap<6,>=3.0.1 from https://files.pythonhosted.org/packages/a7/a5/10f97f73544edcdef54409f1d839f6049a0d79df68adbc1ceb24d1aaca42/smmap-5.0.1-py3-none-any.whl.metadata\n",
      "  Downloading smmap-5.0.1-py3-none-any.whl.metadata (4.3 kB)\n",
      "Requirement already satisfied: MarkupSafe>=2.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from jinja2->altair<6,>=4.0->streamlit) (2.1.1)\n",
      "Requirement already satisfied: attrs>=17.4.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit) (22.1.0)\n",
      "Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from jsonschema>=3.0->altair<6,>=4.0->streamlit) (0.18.0)\n",
      "Requirement already satisfied: mdurl~=0.1 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from markdown-it-py>=2.2.0->rich<14,>=10.14.0->streamlit) (0.1.0)\n",
      "Requirement already satisfied: six>=1.5 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from python-dateutil>=2.8.2->pandas<3,>=1.4.0->streamlit) (1.16.0)\n",
      "Using cached streamlit-1.40.1-py2.py3-none-any.whl (8.6 MB)\n",
      "Using cached altair-5.4.1-py3-none-any.whl (658 kB)\n",
      "Using cached blinker-1.9.0-py3-none-any.whl (8.5 kB)\n",
      "Using cached cachetools-5.5.0-py3-none-any.whl (9.5 kB)\n",
      "Using cached GitPython-3.1.43-py3-none-any.whl (207 kB)\n",
      "Using cached pydeck-0.9.1-py2.py3-none-any.whl (6.9 MB)\n",
      "Using cached gitdb-4.0.11-py3-none-any.whl (62 kB)\n",
      "Using cached narwhals-1.13.4-py3-none-any.whl (206 kB)\n",
      "Using cached smmap-5.0.1-py3-none-any.whl (24 kB)\n",
      "Installing collected packages: smmap, narwhals, cachetools, blinker, pydeck, gitdb, altair, gitpython, streamlit\n",
      "Successfully installed altair-5.4.1 blinker-1.9.0 cachetools-5.5.0 gitdb-4.0.11 gitpython-3.1.43 narwhals-1.13.4 pydeck-0.9.1 smmap-5.0.1 streamlit-1.40.1\n"
     ]
    }
   ],
   "source": [
    "#!pip install streamlit\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "a54089e0",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Requirement already satisfied: groq in c:\\users\\admin\\anaconda3\\lib\\site-packages (0.11.0)\n",
      "Collecting pymupdf\n",
      "  Obtaining dependency information for pymupdf from https://files.pythonhosted.org/packages/38/80/f8d8ae555b237574005faef8a181a5c6a1d983e16a982b65ccc56a42faa2/PyMuPDF-1.24.13-cp39-abi3-win_amd64.whl.metadata\n",
      "  Downloading PyMuPDF-1.24.13-cp39-abi3-win_amd64.whl.metadata (3.4 kB)\n",
      "Requirement already satisfied: anyio<5,>=3.5.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from groq) (3.5.0)\n",
      "Requirement already satisfied: distro<2,>=1.7.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from groq) (1.9.0)\n",
      "Requirement already satisfied: httpx<1,>=0.23.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from groq) (0.27.2)\n",
      "Requirement already satisfied: pydantic<3,>=1.9.0 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from groq) (1.10.8)\n",
      "Requirement already satisfied: sniffio in c:\\users\\admin\\anaconda3\\lib\\site-packages (from groq) (1.2.0)\n",
      "Requirement already satisfied: typing-extensions<5,>=4.7 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from groq) (4.12.2)\n",
      "Requirement already satisfied: idna>=2.8 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from anyio<5,>=3.5.0->groq) (3.4)\n",
      "Requirement already satisfied: certifi in c:\\users\\admin\\anaconda3\\lib\\site-packages (from httpx<1,>=0.23.0->groq) (2023.7.22)\n",
      "Requirement already satisfied: httpcore==1.* in c:\\users\\admin\\anaconda3\\lib\\site-packages (from httpx<1,>=0.23.0->groq) (1.0.6)\n",
      "Requirement already satisfied: h11<0.15,>=0.13 in c:\\users\\admin\\anaconda3\\lib\\site-packages (from httpcore==1.*->httpx<1,>=0.23.0->groq) (0.14.0)\n",
      "Downloading PyMuPDF-1.24.13-cp39-abi3-win_amd64.whl (16.2 MB)\n",
      "   ---------------------------------------- 0.0/16.2 MB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/16.2 MB ? eta -:--:--\n",
      "   ---------------------------------------- 0.0/16.2 MB 435.7 kB/s eta 0:00:38\n",
      "   ---------------------------------------- 0.1/16.2 MB 544.7 kB/s eta 0:00:30\n",
      "   ---------------------------------------- 0.2/16.2 MB 1.1 MB/s eta 0:00:16\n",
      "    --------------------------------------- 0.3/16.2 MB 1.5 MB/s eta 0:00:11\n",
      "   - -------------------------------------- 0.5/16.2 MB 1.8 MB/s eta 0:00:09\n",
      "   - -------------------------------------- 0.7/16.2 MB 2.4 MB/s eta 0:00:07\n",
      "   -- ------------------------------------- 0.9/16.2 MB 2.6 MB/s eta 0:00:06\n",
      "   -- ------------------------------------- 1.0/16.2 MB 2.6 MB/s eta 0:00:06\n",
      "   -- ------------------------------------- 1.2/16.2 MB 2.8 MB/s eta 0:00:06\n",
      "   --- ------------------------------------ 1.3/16.2 MB 2.8 MB/s eta 0:00:06\n",
      "   --- ------------------------------------ 1.4/16.2 MB 2.8 MB/s eta 0:00:06\n",
      "   --- ------------------------------------ 1.5/16.2 MB 2.7 MB/s eta 0:00:06\n",
      "   ---- ----------------------------------- 1.7/16.2 MB 2.7 MB/s eta 0:00:06\n",
      "   ---- ----------------------------------- 1.7/16.2 MB 2.6 MB/s eta 0:00:06\n",
      "   ---- ----------------------------------- 1.8/16.2 MB 2.5 MB/s eta 0:00:06\n",
      "   ---- ----------------------------------- 2.0/16.2 MB 2.6 MB/s eta 0:00:06\n",
      "   ----- ---------------------------------- 2.1/16.2 MB 2.6 MB/s eta 0:00:06\n",
      "   ----- ---------------------------------- 2.3/16.2 MB 2.7 MB/s eta 0:00:06\n",
      "   ------ --------------------------------- 2.4/16.2 MB 2.7 MB/s eta 0:00:06\n",
      "   ------ --------------------------------- 2.6/16.2 MB 2.8 MB/s eta 0:00:05\n",
      "   ------ --------------------------------- 2.7/16.2 MB 2.8 MB/s eta 0:00:05\n",
      "   ------- -------------------------------- 2.9/16.2 MB 2.8 MB/s eta 0:00:05\n",
      "   ------- -------------------------------- 2.9/16.2 MB 2.7 MB/s eta 0:00:05\n",
      "   ------- -------------------------------- 3.0/16.2 MB 2.7 MB/s eta 0:00:05\n",
      "   ------- -------------------------------- 3.1/16.2 MB 2.7 MB/s eta 0:00:05\n",
      "   ------- -------------------------------- 3.2/16.2 MB 2.6 MB/s eta 0:00:05\n",
      "   -------- ------------------------------- 3.3/16.2 MB 2.6 MB/s eta 0:00:05\n",
      "   -------- ------------------------------- 3.5/16.2 MB 2.6 MB/s eta 0:00:05\n",
      "   -------- ------------------------------- 3.5/16.2 MB 2.6 MB/s eta 0:00:05\n",
      "   -------- ------------------------------- 3.6/16.2 MB 2.6 MB/s eta 0:00:05\n",
      "   --------- ------------------------------ 3.7/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   --------- ------------------------------ 3.8/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   --------- ------------------------------ 3.9/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   --------- ------------------------------ 4.0/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   ---------- ----------------------------- 4.1/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   ---------- ----------------------------- 4.2/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   ---------- ----------------------------- 4.3/16.2 MB 2.5 MB/s eta 0:00:05\n",
      "   ---------- ----------------------------- 4.3/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ---------- ----------------------------- 4.4/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ----------- ---------------------------- 4.5/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ----------- ---------------------------- 4.6/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ----------- ---------------------------- 4.7/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ----------- ---------------------------- 4.8/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ------------ --------------------------- 4.9/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ------------ --------------------------- 5.0/16.2 MB 2.4 MB/s eta 0:00:05\n",
      "   ------------ --------------------------- 5.1/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------ --------------------------- 5.2/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------ --------------------------- 5.2/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------- -------------------------- 5.3/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------- -------------------------- 5.4/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------- -------------------------- 5.4/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------- -------------------------- 5.5/16.2 MB 2.3 MB/s eta 0:00:05\n",
      "   ------------- -------------------------- 5.6/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   ------------- -------------------------- 5.6/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   -------------- ------------------------- 5.7/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   -------------- ------------------------- 5.8/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   -------------- ------------------------- 5.8/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   -------------- ------------------------- 5.9/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   -------------- ------------------------- 6.0/16.2 MB 2.2 MB/s eta 0:00:05\n",
      "   -------------- ------------------------- 6.0/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   --------------- ------------------------ 6.1/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   --------------- ------------------------ 6.2/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   --------------- ------------------------ 6.3/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   --------------- ------------------------ 6.3/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   --------------- ------------------------ 6.4/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   --------------- ------------------------ 6.5/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   ---------------- ----------------------- 6.5/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   ---------------- ----------------------- 6.6/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   ---------------- ----------------------- 6.7/16.2 MB 2.1 MB/s eta 0:00:05\n",
      "   ---------------- ----------------------- 6.7/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ---------------- ----------------------- 6.8/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ---------------- ----------------------- 6.9/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ----------------- ---------------------- 7.0/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ----------------- ---------------------- 7.0/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ----------------- ---------------------- 7.1/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ----------------- ---------------------- 7.2/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ----------------- ---------------------- 7.3/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------ --------------------- 7.4/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------ --------------------- 7.4/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------ --------------------- 7.5/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------ --------------------- 7.6/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------ --------------------- 7.6/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------ --------------------- 7.7/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 7.8/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 7.8/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 7.9/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 8.0/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 8.0/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 8.1/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   ------------------- -------------------- 8.1/16.2 MB 2.0 MB/s eta 0:00:05\n",
      "   -------------------- ------------------- 8.2/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   -------------------- ------------------- 8.3/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   -------------------- ------------------- 8.4/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   -------------------- ------------------- 8.4/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   -------------------- ------------------- 8.5/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   --------------------- ------------------ 8.5/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   --------------------- ------------------ 8.6/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   --------------------- ------------------ 8.6/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   --------------------- ------------------ 8.7/16.2 MB 1.9 MB/s eta 0:00:05\n",
      "   --------------------- ------------------ 8.8/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   --------------------- ------------------ 8.9/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   --------------------- ------------------ 8.9/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.0/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.1/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.1/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.1/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.2/16.2 MB 1.9 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.3/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ---------------------- ----------------- 9.3/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.4/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.4/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.5/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.5/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.5/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.6/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.7/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ----------------------- ---------------- 9.7/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 9.8/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 9.9/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 9.9/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 10.0/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 10.0/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 10.1/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------ --------------- 10.1/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.2/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.2/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.3/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.3/16.2 MB 1.8 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.4/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.4/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.4/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.4/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   ------------------------- -------------- 10.5/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.6/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.6/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.7/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.7/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.8/16.2 MB 1.7 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.8/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.8/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.9/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   -------------------------- ------------- 10.9/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.0/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.0/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.1/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.1/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.1/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.2/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.3/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   --------------------------- ------------ 11.3/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   ---------------------------- ----------- 11.4/16.2 MB 1.6 MB/s eta 0:00:04\n",
      "   ---------------------------- ----------- 11.5/16.2 MB 1.5 MB/s eta 0:00:04\n",
      "   ---------------------------- ----------- 11.5/16.2 MB 1.5 MB/s eta 0:00:04\n",
      "   ---------------------------- ----------- 11.6/16.2 MB 1.5 MB/s eta 0:00:04\n",
      "   ---------------------------- ----------- 11.6/16.2 MB 1.5 MB/s eta 0:00:04\n",
      "   ---------------------------- ----------- 11.7/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ---------------------------- ----------- 11.7/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ---------------------------- ----------- 11.8/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 11.8/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 11.8/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 11.9/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 11.9/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 12.0/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 12.0/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 12.1/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ----------------------------- ---------- 12.2/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.2/16.2 MB 1.5 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.2/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.3/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.3/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.4/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.4/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.4/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.5/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.5/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------ --------- 12.6/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.6/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.7/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.7/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.8/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.8/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.8/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.8/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.8/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.8/16.2 MB 1.4 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.9/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.9/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.9/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.9/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 12.9/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   ------------------------------- -------- 13.0/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.0/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.0/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.0/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.0/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.1/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.1/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.1/16.2 MB 1.3 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.1/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.2/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.2/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.3/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.3/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.3/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.3/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.4/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   -------------------------------- ------- 13.4/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.4/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.4/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.5/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.5/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.5/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.6/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.6/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.6/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.6/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.7/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.7/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.8/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   --------------------------------- ------ 13.8/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   ---------------------------------- ----- 13.9/16.2 MB 1.2 MB/s eta 0:00:03\n",
      "   ---------------------------------- ----- 13.9/16.2 MB 1.1 MB/s eta 0:00:03\n",
      "   ---------------------------------- ----- 13.9/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ---------------------------------- ----- 14.0/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ---------------------------------- ----- 14.0/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ---------------------------------- ----- 14.0/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ---------------------------------- ----- 14.1/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ---------------------------------- ----- 14.2/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ----------------------------------- ---- 14.2/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ----------------------------------- ---- 14.3/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ----------------------------------- ---- 14.4/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ----------------------------------- ---- 14.4/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ----------------------------------- ---- 14.5/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ----------------------------------- ---- 14.6/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------ --- 14.6/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------ --- 14.7/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------ --- 14.8/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------ --- 14.8/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------ --- 14.9/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------ --- 15.0/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------- -- 15.1/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------- -- 15.1/16.2 MB 1.1 MB/s eta 0:00:02\n",
      "   ------------------------------------- -- 15.2/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ------------------------------------- -- 15.3/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ------------------------------------- -- 15.3/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.5/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.5/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.6/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.6/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.7/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.7/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.8/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   -------------------------------------- - 15.8/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  15.9/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  15.9/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.0/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.0/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.0/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.1/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.1/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.1/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.1/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.2/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.2/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------  16.2/16.2 MB 1.1 MB/s eta 0:00:01\n",
      "   ---------------------------------------- 16.2/16.2 MB 1.1 MB/s eta 0:00:00\n",
      "Installing collected packages: pymupdf\n",
      "Successfully installed pymupdf-1.24.13\n"
     ]
    }
   ],
   "source": [
    "#!pip install groq pymupdf"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "25db2271",
   "metadata": {},
   "outputs": [],
   "source": [
    "import streamlit as st\n",
    "import fitz  # PyMuPDF\n",
    "from groq import Groq\n",
    "from PIL import Image\n",
    "import re\n",
    "from collections import Counter"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "3e6656ad",
   "metadata": {},
   "outputs": [],
   "source": [
    "client = Groq(api_key='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')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "id": "081adf6c",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "2024-11-13 12:29:00.367 WARNING streamlit.runtime.scriptrunner_utils.script_run_context: Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:00.443 \n",
      "  \u001b[33m\u001b[1mWarning:\u001b[0m to view this Streamlit app on a browser, run it with the following\n",
      "  command:\n",
      "\n",
      "    streamlit run C:\\Users\\ADMIN\\anaconda3\\Lib\\site-packages\\ipykernel_launcher.py [ARGUMENTS]\n",
      "2024-11-13 12:29:00.444 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:00.469 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:00.470 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:00.471 The `use_column_width` parameter has been deprecated and will be removed in a future release. Please utilize the `use_container_width` parameter instead.\n",
      "2024-11-13 12:29:00.472 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.706 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.706 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.707 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.708 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.709 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.710 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n",
      "2024-11-13 12:29:01.710 Thread 'MainThread': missing ScriptRunContext! This warning can be ignored when running in bare mode.\n"
     ]
    }
   ],
   "source": [
    "def extract_text_by_page(pdf_path):\n",
    "    \"\"\"Extracts text from each page and returns it as a list of strings, one for each page.\"\"\"\n",
    "    doc = fitz.open(pdf_path)\n",
    "    pages_text = [doc.load_page(i).get_text(\"text\") for i in range(doc.page_count)]\n",
    "    doc.close()\n",
    "    return pages_text\n",
    "\n",
    "def clean_text(text):\n",
    "    # Basic cleaning as before\n",
    "    text = text.lower()\n",
    "    text = re.sub(r\"[^a-zA-Z\\s]\", \"\", text)\n",
    "    text = re.sub(r\"\\s+\", \" \", text).strip()\n",
    "    return text\n",
    "\n",
    "def chunk_text(text, max_chunk_size=512):\n",
    "    # Initialize the summarization pipeline for contextual grouping\n",
    "    summarizer = pipeline(\"summarization\")\n",
    "    \n",
    "    # Split the text into sentences\n",
    "    sentences = nltk.sent_tokenize(text)\n",
    "    chunks = []\n",
    "    current_chunk = []\n",
    "\n",
    "    for sentence in sentences:\n",
    "        # Check if adding the next sentence would exceed the chunk size\n",
    "        current_chunk.append(sentence)\n",
    "        chunk_text = \" \".join(current_chunk)\n",
    "        \n",
    "        # Summarize to see if it forms a coherent chunk\n",
    "        summary = summarizer(chunk_text, max_length=50, min_length=25, do_sample=False)[0]['summary_text']\n",
    "        \n",
    "        if len(summary.split()) < max_chunk_size:\n",
    "            continue\n",
    "        else:\n",
    "            chunks.append(chunk_text)\n",
    "            current_chunk = []\n",
    "\n",
    "    # Add any remaining sentences as the final chunk\n",
    "    if current_chunk:\n",
    "        chunks.append(\" \".join(current_chunk))\n",
    "\n",
    "    return chunks\n",
    "\n",
    "\n",
    "def get_pdf_cleantext(path):\n",
    "    texts_pages=extract_text_by_page(path)\n",
    "    cleantext=''\n",
    "    for text in texts_pages:\n",
    "        temp=clean_text(text)\n",
    "        cleantext+=temp\n",
    "    return cleantext\n",
    "\n",
    "\n",
    "def summarize_text(text, model_name):\n",
    "    try:\n",
    "        summary_response = client.chat.completions.create(\n",
    "            messages=[\n",
    "                {\n",
    "                    \"role\": \"system\",\n",
    "                    \"content\": \"You are a helpful assistant.\"\n",
    "                },\n",
    "                {\n",
    "                    \"role\": \"user\",\n",
    "                    \"content\": f\"Summarize the following text: {text}\"\n",
    "                }\n",
    "            ],\n",
    "            model=model_name,\n",
    "        )\n",
    "        return summary_response.choices[0].message.content\n",
    "    except Exception as e:\n",
    "        return f\"An error occurred: {e}\"\n",
    "    \n",
    "def ask_question(context, question, model_name):\n",
    "    try:\n",
    "        answer_response = client.chat.completions.create(\n",
    "            messages=[\n",
    "                {\n",
    "                    \"role\": \"system\",\n",
    "                    \"content\": \"You are a helpful assistant.\"\n",
    "                },\n",
    "                {\n",
    "                    \"role\": \"user\",\n",
    "                    \"content\": f\"Context: {context} Question: {question}\"\n",
    "                }\n",
    "            ],\n",
    "            model=model_name,\n",
    "        )\n",
    "        return answer_response.choices[0].message.content\n",
    "    except Exception as e:\n",
    "        return f\"An error occurred: {e}\"\n",
    "##StremLit\n",
    "\n",
    "st.title(\"PDF Explorar\")\n",
    "image = Image.open('Dum.png')\n",
    "st.image(image, use_column_width='always')\n",
    "\n",
    "uploaded_file = st.file_uploader(\"Upload a PDF file\", type=\"pdf\")\n",
    "\n",
    "if uploaded_file is not None:\n",
    "    pdf_text = get_pdf_cleantext(uploaded_file)\n",
    "    \n",
    "    st.subheader(\"Text Extracted from PDF:\")\n",
    "    st.write(pdf_text[:500])  # Display a snippet of the text for review\n",
    "\n",
    "    # Model selection for summarization\n",
    "    summarize_model = st.selectbox(\n",
    "        \"Choose a model for summarization:\",\n",
    "        [\"mixtral-8x7b-32768\", \"llama-3.1-8b-instant\", \"gemma-7b-it\", \"llama3-70b-8192\", \"whisper-large-v3\"]\n",
    "    )\n",
    "\n",
    "    summary_button = st.button(\"Summarize Text\")\n",
    "    if summary_button:\n",
    "        summary = summarize_text(pdf_text, summarize_model )\n",
    "        st.subheader(\"Summary:\")\n",
    "        st.write(summary)\n",
    "\n",
    "    # Model selection for question answering\n",
    "    question_model = st.selectbox(\n",
    "        \"Choose a model for question answering:\",\n",
    "        [\"mixtral-8x7b-32768\", \"llama-3.1-8b-instant\", \"gemma-7b-it\", \"llama3-70b-8192\", \"whisper-large-v3\"]\n",
    "    )\n",
    "\n",
    "    question = st.+(\"Ask a question about the PDF:\")\n",
    "    if question:\n",
    "        answer = ask_question(pdf_text, question, question_model)\n",
    "        st.subheader(\"Answer:\")\n",
    "        st.write(answer)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 38,
   "id": "4e3099f4",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "1982"
      ]
     },
     "execution_count": 38,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "ec160664",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.11.5"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
